\documentclass[oneside,final,12pt]{extreport}
\usepackage[utf8]{inputenc}
%\usepackage[russianb]{babel}
\usepackage[english,russian]{babel}
\usepackage{vmargin}
\setpapersize{A4}
\setmarginsrb{2cm}{2cm}{2cm}{2cm}{0pt}{0mm}{0pt}{13mm}
\usepackage{indentfirst}
\usepackage{hyperref}
\sloppy


\begin{document}
	
Информация о фильмах берётся из сервиса \url{http://api.rottentomatoes.com}, предоставляемого сайтом: \url{http://developer.rottentomatoes.com} (логин: ikoznov; пароль: 4a78poi2; ключ приложения: gfh7w8cm88rvptkndqq556x4). Для обращения к сервису используются GET-запросы, в частности методы:
	
\url{http://api.rottentomatoes.com/api/public/v1.0/movies/movie_id/similar.json} для получения списка похожих фильмов на заданный;

\url{http://api.rottentomatoes.com/api/public/v1.0/movies.json} для поиска фильма по названию и получения его идентификатора.

Сервис также предоставляет ссылки на изображения с постерами фильмов различного качества. Алгоритм, определяющий какие именно постеры будут изображены на гранях можно разделить на 3 этапа.

Первый этап: получение необходимой информации из сервиса и запись, её в граф, в котором каждая вершина представляет собой фильм, а каждое ребро~--- прямую связь между двумя фильмами. После построения графа, происходит обработка полученной информации, с целью отбора постеров для отображения на гранях усечённого икосаэдра.

Итак, цель второго этапа~--- определение того, насколько сильно связаны друг с другом фильмы, находящиеся в графе. Для этого вводится некоторая функция, значения которой лежат строго в интервале от 0 до 1, чем больше значение функции тем сильнее связаны фильмы. Функция не может равняться нулю, поскольку граф связный, т. е. между любыми двумя фильмами существует связь, пусть и косвенная. И единице функция также не может равняться, поскольку это бы обозначало, что рассматривается один и тот же фильм. Для вычисления значения функции связи используется количество и длина всех путей от одной заданной вершины до другой, т. е. учитываются все связи между двумя фильмами, как прямые, так и косвенные, а также и степень их косвенности. Условимся, что вес прямой связи выше веса всех косвенных, и что вес любой косвенной связи выше совокупного веса любого количества связей большей длины. Исходя из этих условий значение функции связи можно представить, как сумму:

\[
\left ( \frac{1}{3} + \frac{1}{6} + \frac{1}{12} + \frac{1}{24} + \ldots \right ) +
\left ( \frac{1}{9} + \frac{1}{18} + \frac{1}{36} + \frac{1}{72} + \ldots \right ) +
\left ( \frac{1}{27} + \frac{1}{54} + \frac{1}{108} + \frac{1}{216} + \ldots \right ) + \ldots
\]

Что в общем случае можно представить как бесконечную сумму и доказать, что она стремится к 1:

\[
\lim \sum_{i=1}^{\infty} \sum_{j=1}^{\infty} \frac{2}{ 3^{i} 2^{j} } = 1
\]

Каждое слагаемое этой суммы соответствует весу определённой связи. Первая часть суммы, заключённая в скобки равняется весу всех прямых связей, связей единичной длины, на практике она всегда только одна. Следующие подсуммы соответственно равняются весу всех косвенных связей определённой длины. В результате второго этапа алгоритма подсчитывается матрица, которая содержит значения силы связи между всеми фильмами в графе.

На последнем, третьем, этапе непосредственно отбираются постеры для отображения. Происходит это по следующему критерию: вокруг заданного фильма должны оказаться фильмы с наибольшей с ним связью, но в то же время связи между набором этих фильмов должны быть минимальны. Отбор происходит только для не заполненных граней, грани для которых постер определён, не меняются.

\end{document}
